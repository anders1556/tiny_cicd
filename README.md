# tiny_cicd
用c++编写一个简单的cicd工具，此工具能够自动接收gitlab的webhook消息，或者检测编译日志文件修改操作，自动拉取gitlab代码，编译，上传，部署。

主要有以下特性：
能够接受gitlab上面的http请求。
能够检测编译日志文件变化（如做了修改）。
能够自动对比前后两次编译生成的so差异，在上传部署时只上传差异so。
此cicd即可以作为一个守护进程使用，可以单独运行一次执行部署操作或对比so差异操作。
项目没有外部（依赖的sqlite3和json解析，http解析，MD5都已源码形式引入）。

主要使用的技术：
epoll，
条件变量，
多线程，
file notify。


接受参数：
-h 查询使用帮助
-v 查看版本
-p 已服务方式运行时监听的端口，默认为12345
-s 编译方式，如全量或增量，这需要根据自己工程的情况配置
-w 编译工程的代码路径
-W 生成出的so的路径
-f 要检测的日志文件
-d 记录so变化要使用的sqlite数据库文件名
-c 只比较前后两次so变化与差异
-u 部署环境一次
-x 以服务方式运行，检测文件变化，接受gitlab的webhook消息。
